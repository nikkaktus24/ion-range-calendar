{"version":3,"file":"googlproxer-ion-range-calendar.mjs","sources":["../../../projects/ion-range-calendar/src/lib/config.ts","../../../projects/ion-range-calendar/src/lib/services/calendar-options.provider.ts","../../../projects/ion-range-calendar/src/lib/services/ion-range-calendar.service.ts","../../../projects/ion-range-calendar/src/lib/components/calendar-week/calendar-week.component.ts","../../../projects/ion-range-calendar/src/lib/components/calendar-week/calendar-week-component.html","../../../projects/ion-range-calendar/src/lib/components/month/month.component.ts","../../../projects/ion-range-calendar/src/lib/components/month/month.component.html","../../../projects/ion-range-calendar/src/lib/components/calendar/calendar.modal.ts","../../../projects/ion-range-calendar/src/lib/components/calendar/calendar.modal.html","../../../projects/ion-range-calendar/src/lib/components/month-picker/month-picker.component.ts","../../../projects/ion-range-calendar/src/lib/components/month-picker/month-picker.component.html","../../../projects/ion-range-calendar/src/lib/components/ion-range-calendar/ion-range-calendar.component.ts","../../../projects/ion-range-calendar/src/lib/components/ion-range-calendar/ion-range-calendar.component.html","../../../projects/ion-range-calendar/src/public-api.ts","../../../projects/ion-range-calendar/src/googlproxer-ion-range-calendar.ts"],"sourcesContent":["export const defaults = {\n  DATE_FORMAT: 'yyyy-MM-dd',\n  COLOR: 'primary',\n  WEEKS_FORMAT: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  MONTH_FORMAT: [\n    'JAN',\n    'FEB',\n    'MAR',\n    'APR',\n    'MAY',\n    'JUN',\n    'JUL',\n    'AUG',\n    'SEP',\n    'OCT',\n    'NOV',\n    'DEC',\n  ],\n};\n","import { InjectionToken } from '@angular/core';\n\nimport { CalendarModalOptions } from '../calendar.types';\n\nexport const DEFAULT_CALENDAR_OPTIONS =\n  new InjectionToken<CalendarModalOptions>('DEFAULT_CALENDAR_MODAL_OPTIONS');\n","import { inject, Injectable } from '@angular/core';\n\nimport {\n  addDays,\n  addMonths,\n  format,\n  getDaysInMonth,\n  isAfter,\n  isBefore,\n  isSameDay,\n  isToday,\n  isWithinInterval,\n  subDays,\n} from 'date-fns';\n\nimport {\n  CalendarDay,\n  CalendarModalOptions,\n  CalendarMonth,\n  CalendarOriginal,\n  CalendarResult,\n  DayConfig,\n  SlotRange,\n} from '../calendar.types';\n\nimport { defaults } from '../config';\n\nimport { DEFAULT_CALENDAR_OPTIONS } from './calendar-options.provider';\n\n@Injectable({ providedIn: 'root' })\nexport class IonRangeCalendarService {\n  public opts: CalendarModalOptions;\n\n  private readonly defaultOpts = inject(DEFAULT_CALENDAR_OPTIONS, {\n    optional: true,\n  });\n\n  readonly DEFAULT_STEP = 12;\n\n  safeOpt(\n    calendarOptions: Partial<CalendarModalOptions> = {},\n  ): CalendarModalOptions {\n    const _disableWeeks: number[] = [];\n    const _daysConfig: DayConfig[] = [];\n    let {\n      from = this.defaultOpts?.from || calendarOptions.from || new Date(),\n      to = 0,\n      weekStart = 0,\n      step = this.DEFAULT_STEP,\n      cssClass = '',\n      closeLabel = 'Cancel',\n      closeTitle = '',\n      doneLabel = 'Done',\n      doneTitle = '',\n      clearLabel = 'Clear',\n      clearTitle = '',\n      monthFormat = 'MMM yyyy',\n      title = 'Calendar',\n      defaultTitle = '',\n      defaultSubtitle = '',\n      autoDone = false,\n      canBackwardsSelected = false,\n      closeIcon = false,\n      doneIcon = false,\n      clearIcon = false,\n      pickMode = 'single',\n      color = defaults.COLOR,\n      weekdays = defaults.WEEKS_FORMAT,\n      daysConfig = _daysConfig,\n      disableWeeks = _disableWeeks,\n      showAdjacentMonthDay = true,\n      defaultEndDateToStartDate = true,\n      maxRange = 0,\n      clearResetsToDefault = false,\n      slots = [],\n    } = { ...this.defaultOpts, ...calendarOptions };\n\n    //  if from is not provided, but a default range is, set from to the default range from\n    if (\n      typeof calendarOptions.from === 'undefined' &&\n      calendarOptions.defaultDateRange\n    ) {\n      from = subDays(new Date(calendarOptions.defaultDateRange.from), 1);\n    }\n\n    //  default scroll is either provided, inferred from the provided default date range from, the provided from, or today\n    let defaultScrollTo = calendarOptions.defaultScrollTo;\n    if (!defaultScrollTo) {\n      if (calendarOptions.defaultDateRange) {\n        defaultScrollTo = new Date(calendarOptions.defaultDateRange.from);\n      } else {\n        defaultScrollTo = from ? new Date(from) : new Date();\n      }\n    }\n\n    if (\n      clearResetsToDefault &&\n      !this.defaultOpts?.clearLabel &&\n      !calendarOptions.clearLabel\n    ) {\n      clearLabel = 'Reset';\n    }\n\n    this.opts = {\n      from,\n      to,\n      pickMode,\n      autoDone,\n      color,\n      cssClass,\n      weekStart,\n      closeLabel,\n      closeIcon,\n      closeTitle,\n      doneLabel,\n      doneIcon,\n      doneTitle,\n      clearLabel,\n      clearIcon,\n      clearTitle,\n      canBackwardsSelected,\n      disableWeeks,\n      monthFormat,\n      title,\n      weekdays,\n      daysConfig,\n      step,\n      defaultTitle,\n      defaultSubtitle,\n      defaultScrollTo,\n      initialDate:\n        calendarOptions.initialDate || calendarOptions.defaultDate || null,\n      initialDates:\n        calendarOptions.initialDates || calendarOptions.defaultDates || null,\n      initialDateRange:\n        calendarOptions.initialDateRange ||\n        calendarOptions.defaultDateRange ||\n        null,\n      defaultDate: calendarOptions.defaultDate || null,\n      defaultDates: calendarOptions.defaultDates || null,\n      defaultDateRange: calendarOptions.defaultDateRange || null,\n      showAdjacentMonthDay,\n      defaultEndDateToStartDate,\n      maxRange,\n      clearResetsToDefault,\n      slots,\n      initialSlot:\n        calendarOptions.initialSlot || calendarOptions.defaultSlot || null,\n      defaultSlot: calendarOptions.defaultSlot || null,\n    };\n    return this.opts;\n  }\n\n  createOriginalCalendar(time: number): CalendarOriginal {\n    const date = new Date(time);\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const firstWeek = new Date(year, month, 1).getDay();\n    //  get the number of days in the month of the provided time\n    const howManyDays = getDaysInMonth(date);\n    return {\n      year,\n      month,\n      firstWeek,\n      howManyDays,\n      time: new Date(year, month, 1).getTime(),\n      date: new Date(time),\n    };\n  }\n\n  findDayConfig(day: Date, opt: CalendarModalOptions): DayConfig | undefined {\n    if (opt.daysConfig && opt.daysConfig.length <= 0) return null;\n    return opt.daysConfig?.find((n) => isSameDay(day, n.date));\n  }\n\n  findSlotForDay(day: Date, opt: CalendarModalOptions): SlotRange | undefined {\n    if (!opt.slots || opt.slots.length <= 0) return undefined;\n    return opt.slots.find((slot) => {\n      const slotStart = new Date(slot.from);\n      const slotEnd = new Date(slot.to);\n      return isWithinInterval(day, { start: slotStart, end: slotEnd });\n    });\n  }\n\n  isDayInAnySlot(day: Date, opt: CalendarModalOptions): boolean {\n    return !!this.findSlotForDay(day, opt);\n  }\n\n  createCalendarDay(\n    time: number,\n    opt: CalendarModalOptions,\n    month?: number,\n  ): CalendarDay {\n    const _time = new Date(time);\n    const date = new Date(time);\n    const today = isToday(date);\n    const dayConfig = this.findDayConfig(_time, opt);\n    const _rangeBeg = new Date(opt.from);\n    const _rangeEnd = new Date(opt.to);\n    const _hasBeg = !!_rangeBeg.valueOf();\n    const _hasEnd = !!_rangeEnd.valueOf();\n    let isInRange = true;\n    const disableWeeks =\n      opt.disableWeeks && opt.disableWeeks.indexOf(_time.getDay()) !== -1;\n\n    if (_hasBeg && _hasEnd) {\n      //  both from and to are set, check if time is in between, unless backwards selection is allowed, then check if time is before to\n      if (opt.canBackwardsSelected) {\n        isInRange = isBefore(_time, _rangeEnd);\n      } else {\n        isInRange = isWithinInterval(_time, {\n          start: _rangeBeg,\n          end: _rangeEnd,\n        });\n      }\n    } else if (_hasBeg && !_hasEnd && !opt.canBackwardsSelected) {\n      // if only from is set, check if time is after from, unless backwards selection is allowed\n      isInRange = isAfter(_time, _rangeBeg);\n    } else if (!_hasBeg && _hasEnd) {\n      // if only to is set, check if time is before to\n      isInRange = isBefore(_time, _rangeEnd);\n    }\n    //  if both from and to are not set, then all days are in range\n\n    let _disable = false;\n\n    if (dayConfig && typeof dayConfig.disable === 'boolean') {\n      _disable = dayConfig.disable;\n    } else {\n      _disable = disableWeeks || !isInRange;\n      \n      // For slots mode, disable days that are not part of any slot\n      if (opt.pickMode === 'slots' && opt.slots && opt.slots.length > 0) {\n        _disable = _disable || !this.isDayInAnySlot(_time, opt);\n      }\n    }\n\n    let title = new Date(time).getDate().toString();\n    if (dayConfig && dayConfig.title) {\n      title = dayConfig.title;\n    } else if (opt.defaultTitle) {\n      title = opt.defaultTitle;\n    }\n    let subTitle = '';\n    if (dayConfig && dayConfig.subTitle) {\n      subTitle = dayConfig.subTitle;\n    } else if (opt.defaultSubtitle) {\n      subTitle = opt.defaultSubtitle;\n    }\n\n    return {\n      time,\n      isToday: today,\n      title,\n      subTitle,\n      isLastMonth: typeof month === 'number' ? date.getMonth() < month : false,\n      isNextMonth: typeof month === 'number' ? date.getMonth() > month : false,\n      marked: dayConfig ? dayConfig.marked || false : false,\n      cssClass: dayConfig ? dayConfig.cssClass || '' : '',\n      disable: _disable,\n      isFirst: date.getDate() === 1,\n      isLast: date.getDate() === getDaysInMonth(date),\n    };\n  }\n\n  createCalendarMonth(\n    original: CalendarOriginal,\n    opt: CalendarModalOptions,\n  ): CalendarMonth {\n    const days: CalendarDay[] = new Array(6).fill(null);\n    const len = original.howManyDays;\n    for (let i = original.firstWeek; i < len + original.firstWeek; i++) {\n      const itemTime = new Date(\n        original.year,\n        original.month,\n        i - original.firstWeek + 1,\n      ).getTime();\n      days[i] = this.createCalendarDay(itemTime, opt);\n    }\n\n    const weekStart = opt.weekStart;\n\n    if (weekStart === 1) {\n      if (days[0] === null) {\n        days.shift();\n      } else {\n        days.unshift(...new Array(6).fill(null));\n      }\n    }\n\n    if (opt.showAdjacentMonthDay) {\n      const _booleanMap = days.map((e) => !!e);\n      const thisMonth = new Date(original.time).getMonth();\n      let startOffsetIndex = _booleanMap.indexOf(true) - 1;\n      let endOffsetIndex = _booleanMap.lastIndexOf(true) + 1;\n      for (startOffsetIndex; startOffsetIndex >= 0; startOffsetIndex--) {\n        const dayBefore = subDays(days[startOffsetIndex + 1].time, 1);\n        days[startOffsetIndex] = this.createCalendarDay(\n          dayBefore.valueOf(),\n          opt,\n          thisMonth,\n        );\n      }\n\n      if (\n        !(_booleanMap.length % 7 === 0 && _booleanMap[_booleanMap.length - 1])\n      ) {\n        for (\n          endOffsetIndex;\n          endOffsetIndex < days.length + (endOffsetIndex % 7);\n          endOffsetIndex++\n        ) {\n          const dayAfter = addDays(days[endOffsetIndex - 1].time, 1);\n          days[endOffsetIndex] = this.createCalendarDay(\n            dayAfter.valueOf(),\n            opt,\n            thisMonth,\n          );\n        }\n      }\n    }\n\n    return {\n      days,\n      original: original,\n    };\n  }\n\n  createMonthsByPeriod(\n    startTime: number,\n    monthsNum: number,\n    opt: CalendarModalOptions,\n  ): CalendarMonth[] {\n    const _array: CalendarMonth[] = [];\n\n    const _start = new Date(startTime);\n    const _startMonth = new Date(\n      _start.getFullYear(),\n      _start.getMonth(),\n      1,\n    ).getTime();\n\n    for (let i = 0; i < monthsNum; i++) {\n      const time = addMonths(_startMonth, i).valueOf();\n      const originalCalendar = this.createOriginalCalendar(time);\n      _array.push(this.createCalendarMonth(originalCalendar, opt));\n    }\n\n    return _array;\n  }\n\n  wrapResult(original: CalendarDay[], pickMode: string) {\n    let result:\n      | CalendarResult[]\n      | CalendarResult\n      | { from: CalendarResult; to: CalendarResult }\n      | CalendarDay[];\n    switch (pickMode) {\n      case 'single':\n        result = this.multiFormat(original[0].time);\n        break;\n      case 'range':\n      case 'slots':\n        result = {\n          from: this.multiFormat(original[0].time),\n          to: this.multiFormat((original[1] || original[0]).time),\n        };\n        break;\n      case 'multi':\n        result = original.map((e) => this.multiFormat(e.time));\n        break;\n      default:\n        result = original;\n    }\n    return result;\n  }\n\n  multiFormat(time: number): CalendarResult {\n    const _date = new Date(time);\n    return {\n      time: _date.valueOf(),\n      unix: Math.floor(_date.valueOf() / 1000),\n      dateObj: _date,\n      string: format(_date, defaults.DATE_FORMAT),\n      years: _date.getFullYear(),\n      months: _date.getMonth() + 1,\n      date: _date.getDate(),\n    };\n  }\n}\n","import { Component, computed, input } from '@angular/core';\nimport { defaults } from '../../config';\n\nimport { IonToolbar } from '@ionic/angular/standalone';\n\n@Component({\n  selector: 'ion-range-calendar-week',\n  styleUrls: ['./calendar-week.component.scss'],\n  templateUrl: 'calendar-week-component.html',\n  imports: [IonToolbar],\n})\nexport class CalendarWeekComponent {\n  readonly color = input(defaults.COLOR);\n\n  readonly weekArray = input(defaults.WEEKS_FORMAT, {\n    transform: this.setWeekArray,\n  });\n\n  readonly weekStart = input(0, { transform: this.setWeekStart });\n\n  readonly displayWeekArray = computed<string[]>(() => {\n    if (this.weekStart() === 1) {\n      const cacheWeekArray = [...this.weekArray()];\n      cacheWeekArray.push(cacheWeekArray.shift());\n      return [...cacheWeekArray];\n    }\n    return this.weekArray();\n  });\n\n  private setWeekArray(value: string[]): string[] {\n    if (value && value.length === 7) {\n      return [...value];\n    }\n    return defaults.WEEKS_FORMAT;\n  }\n\n  private setWeekStart(value: number): number {\n    // return 0 or 1, default 0\n    return value === 1 ? 1 : 0;\n  }\n}\n","<ion-toolbar [class]=\"'week-toolbar ' + color()\" no-border-top>\n  <ul [class]=\"'week-title ' + color()\">\n    @for (w of displayWeekArray(); track $index) {\n      <li>{{ w }}</li>\n    }\n  </ul>\n</ion-toolbar>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  forwardRef,\n  inject,\n  input,\n  output,\n  Provider,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { IonRangeCalendarService } from '../../services/ion-range-calendar.service';\n\nimport {\n  CalendarDay,\n  CalendarMonth,\n  ControlValueType,\n  PickMode,\n} from '../../calendar.types';\n\nimport { defaults } from '../../config';\n\nimport { addDays, isAfter, startOfDay, subDays } from 'date-fns';\n\nexport const MONTH_VALUE_ACCESSOR: Provider = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MonthComponent),\n  multi: true,\n};\n\n@Component({\n  selector: 'ion-range-calendar-month',\n  providers: [MONTH_VALUE_ACCESSOR],\n  styleUrls: ['./month.component.scss'],\n  templateUrl: 'month.component.html',\n  host: { '[class.component-mode]': 'componentMode()' },\n  standalone: true,\n})\nexport class MonthComponent implements ControlValueAccessor, AfterViewInit {\n  readonly componentMode = input(false);\n  readonly month = input<CalendarMonth>();\n  readonly pickMode = input<PickMode>();\n  readonly readonly = input(false);\n  readonly color = input<string>(defaults.COLOR);\n\n  ionChange = output<CalendarDay[]>();\n  select = output<CalendarDay>();\n  selectStart = output<CalendarDay>();\n  selectEnd = output<CalendarDay>();\n\n  _date: (CalendarDay | null)[] = [null, null];\n  _isInit = false;\n  _onChanged: (event: ControlValueType) => void;\n  _onTouched: (event: ControlValueType) => void;\n\n  readonly DAY_DATE_FORMAT = 'MMMM dd, yyyy';\n\n  get _isRange(): boolean {\n    return this.pickMode() === 'range' || this.pickMode() === 'slots';\n  }\n\n  public ref = inject(ChangeDetectorRef);\n  public service = inject(IonRangeCalendarService);\n\n  ngAfterViewInit(): void {\n    this._isInit = true;\n  }\n\n  get value() {\n    return this._date;\n  }\n\n  writeValue(obj: CalendarDay[]): void {\n    if (Array.isArray(obj)) {\n      this._date = obj;\n    }\n  }\n\n  registerOnChange(fn: (event: ControlValueType) => void): void {\n    this._onChanged = fn;\n  }\n\n  registerOnTouched(fn: (event: ControlValueType) => void): void {\n    this._onTouched = fn;\n  }\n\n  isEndSelection(day: CalendarDay): boolean {\n    if (!day) return false;\n    if (\n      (this.pickMode() !== 'range' && this.pickMode() !== 'slots') ||\n      !this._isInit ||\n      this._date[1] === null\n    ) {\n      return false;\n    }\n\n    return this._date[1].time === day.time;\n  }\n\n  getDayLabel(day: CalendarDay) {\n    return new Date(day.time);\n  }\n\n  isBetween(day: CalendarDay): boolean {\n    if (!day) return false;\n\n    if ((this.pickMode() !== 'range' && this.pickMode() !== 'slots') || !this._isInit) {\n      return false;\n    }\n\n    if (this._date[0] === null || this._date[1] === null) {\n      return false;\n    }\n\n    return day.time < this._date[1].time && day.time > this._date[0].time;\n  }\n\n  isStartSelection(day: CalendarDay): boolean {\n    if (!day) return false;\n    if (\n      (this.pickMode() !== 'range' && this.pickMode() !== 'slots') ||\n      !this._isInit ||\n      this._date[0] === null\n    ) {\n      return false;\n    }\n\n    return this._date[0].time === day.time && this._date[1] !== null;\n  }\n\n  isSelected(time: number): boolean {\n    if (Array.isArray(this._date)) {\n      if (this.pickMode() !== 'multi') {\n        if (this._date[0] !== null) {\n          return time === this._date[0].time;\n        }\n\n        if (this._date[1] !== null) {\n          return time === this._date[1].time;\n        }\n      } else {\n        return (\n          this._date.findIndex((e) => e !== null && e.time === time) !== -1\n        );\n      }\n    }\n    return false;\n  }\n\n  // Check if a day is the start of any slot\n  isSlotStart(day: CalendarDay): boolean {\n    if (!day || this.pickMode() !== 'slots') return false;\n    \n    const slot = this.service.findSlotForDay(new Date(day.time), this.service.opts);\n    if (!slot) return false;\n    \n    const slotStart = new Date(slot.from);\n    return new Date(day.time).toDateString() === slotStart.toDateString();\n  }\n\n  // Check if a day is the end of any slot\n  isSlotEnd(day: CalendarDay): boolean {\n    if (!day || this.pickMode() !== 'slots') return false;\n    \n    const slot = this.service.findSlotForDay(new Date(day.time), this.service.opts);\n    if (!slot) return false;\n    \n    const slotEnd = new Date(slot.to);\n    return new Date(day.time).toDateString() === slotEnd.toDateString();\n  }\n\n  // Check if a day is between slot start and end (but not start or end itself)\n  isSlotBetween(day: CalendarDay): boolean {\n    if (!day || this.pickMode() !== 'slots') return false;\n    \n    const slot = this.service.findSlotForDay(new Date(day.time), this.service.opts);\n    if (!slot) return false;\n    \n    const dayTime = new Date(day.time);\n    const slotStart = new Date(slot.from);\n    const slotEnd = new Date(slot.to);\n    \n    return dayTime > slotStart && dayTime < slotEnd;\n  }\n\n  onSelected(item: CalendarDay): void {\n    if (this.readonly()) return;\n    this.select.emit(item);\n    if (this.pickMode() === 'single') {\n      this._date[0] = item;\n      this.ionChange.emit(this._date);\n      return;\n    }\n\n    if (this.pickMode() === 'slots') {\n      // For slots mode, find the slot that contains this day\n      const slot = this.service.findSlotForDay(new Date(item.time), this.service.opts);\n      if (slot) {\n        // Select the entire slot range\n        this._date[0] = this.service.createCalendarDay(new Date(slot.from).getTime(), this.service.opts);\n        this._date[1] = this.service.createCalendarDay(new Date(slot.to).getTime(), this.service.opts);\n        this.selectStart.emit(this._date[0]);\n        this.selectEnd.emit(this._date[1]);\n        this.ionChange.emit(this._date);\n      }\n      return;\n    }\n\n    if (this.pickMode() === 'range') {\n      // max range as days in milliseconds\n      const maxRange = (this.service.opts.maxRange - 1) * 86400000;\n      // if start not selected, set to this day\n      if (this._date[0] === null) {\n        this._date[0] = Object.assign({}, item);\n        this.selectStart.emit(this._date[0]);\n        // if end not selected, set to this day\n      } else if (this._date[1] === null) {\n        //  if start is before this day, set end to this day\n        if (this._date[0].time < item.time) {\n          this._date[1] = Object.assign({}, item);\n          this.selectEnd.emit(this._date[1]);\n          this.adjustStart(maxRange);\n          // if start is after this day, set end to start, and start to this day\n        } else {\n          this._date[1] = this._date[0];\n          this.selectEnd.emit(this._date[0]);\n          this._date[0] = Object.assign({}, item);\n          this.selectStart.emit(this._date[0]);\n          this.adjustEnd(maxRange);\n        }\n        //  if start is after this day, set start to this day\n      } else if (this._date[0].time > item.time) {\n        this._date[0] = Object.assign({}, item);\n        this.selectStart.emit(this._date[0]);\n        this.adjustEnd(maxRange);\n        // if end is before this day, set end to this day\n      } else if (this._date[1].time < item.time) {\n        this._date[1] = Object.assign({}, item);\n        this.selectEnd.emit(this._date[1]);\n        this.adjustStart(maxRange);\n        // if start is this day, set end to this day\n      } else if (this._date[0].time === item.time) {\n        this._date[1] = Object.assign({}, item);\n        this.selectEnd.emit(this._date[1]);\n        this.adjustEnd(maxRange);\n        // if end is this day, set start to this day\n      } else if (this._date[1].time === item.time) {\n        this._date[0] = Object.assign({}, item);\n        this.selectStart.emit(this._date[0]);\n        this.adjustStart(maxRange);\n        //  else set end to null and start to this day\n      } else {\n        //  bump selected range to new range starting from selected to selected plus existing range\n        const range = (this._date[1].time - this._date[0].time) / 86400000;\n        this._date[0] = Object.assign({}, item);\n        this.selectStart.emit(this._date[0]);\n        let end = addDays(this._date[0].time, range);\n        //  if end is after service.opts.to, set end to service.opts.to\n        if (isAfter(end, this.service.opts.to))\n          end = startOfDay(this.service.opts.to);\n        this._date[1].time = +end;\n        this.selectEnd.emit(this._date[1]);\n      }\n\n      this.ionChange.emit(this._date);\n      return;\n    }\n\n    if (this.pickMode() === 'multi') {\n      const index = this._date.findIndex(\n        (e) => e !== null && e.time === item.time,\n      );\n\n      if (index === -1) {\n        this._date.push(item);\n      } else {\n        this._date.splice(index, 1);\n      }\n      this.ionChange.emit(this._date.filter((e) => e !== null));\n    }\n  }\n\n  // if max range and end minus max range is greater than start, set start to end minus max range\n  private adjustStart(maxRange: number) {\n    if (maxRange > 0 && this._date[1].time - maxRange > this._date[0].time) {\n      this._date[0].time = +subDays(\n        this._date[1].time,\n        this.service.opts.maxRange - 1,\n      );\n      this.selectStart.emit(this._date[0]);\n    }\n  }\n\n  //  if max range and start plus max range is less than end, set end to start plus max range\n  private adjustEnd(maxRange: number) {\n    if (maxRange > 0 && this._date[0].time + maxRange < this._date[1].time) {\n      this._date[1].time = +addDays(\n        this._date[0].time,\n        this.service.opts.maxRange - 1,\n      );\n      this.selectEnd.emit(this._date[1]);\n    }\n  }\n}\n","<div [class]=\"color()\">\n  @if (!_isRange) {\n    <div class=\"days-box\">\n      @for (day of month().days; track $index) {\n        <div class=\"days\">\n          @if (day) {\n            <button\n              type=\"button\"\n              [class]=\"'days-btn ' + day.cssClass\"\n              [class.today]=\"day.isToday\"\n              (click)=\"onSelected(day)\"\n              [class.marked]=\"day.marked\"\n              [class.last-month-day]=\"day.isLastMonth\"\n              [class.next-month-day]=\"day.isNextMonth\"\n              [class.on-selected]=\"isSelected(day ? day.time : $index)\"\n              [disabled]=\"day.disable\"\n            >\n              <p>{{ day.title }}</p>\n              @if (day.subTitle) {\n                <small>{{ day?.subTitle }}</small>\n              }\n            </button>\n          }\n        </div>\n      }\n    </div>\n  } @else {\n    <div class=\"days-box\">\n      @for (day of month().days; track $index) {\n        <div\n          class=\"days\"\n          [class.startSelection]=\"isStartSelection(day) || isSlotStart(day)\"\n          [class.endSelection]=\"isEndSelection(day) || isSlotEnd(day)\"\n          [class.is-first-wrap]=\"day?.isFirst\"\n          [class.is-last-wrap]=\"day?.isLast\"\n          [class.between]=\"isBetween(day) || isSlotBetween(day)\"\n        >\n          @if (day) {\n            <button\n              type=\"button\"\n              [class]=\"'days-btn ' + day.cssClass\"\n              [class.today]=\"day.isToday\"\n              (click)=\"onSelected(day)\"\n              [class.marked]=\"day.marked\"\n              [class.last-month-day]=\"day.isLastMonth\"\n              [class.next-month-day]=\"day.isNextMonth\"\n              [class.is-first]=\"day.isFirst\"\n              [class.is-last]=\"day.isLast\"\n              [class.on-selected]=\"isSelected(day ? day.time : $index)\"\n              [disabled]=\"day.disable\"\n            >\n              <p>{{ day.title }}</p>\n              @if (day.subTitle) {\n                <small>{{ day?.subTitle }}</small>\n              }\n            </button>\n          }\n        </div>\n      }\n    </div>\n  }\n</div>\n","import { NgClass } from '@angular/common';\nimport {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  HostBinding,\n  OnInit,\n  Renderer2,\n  input,\n  viewChild,\n} from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonIcon,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonLabel,\n  IonTitle,\n  IonToolbar,\n  ModalController,\n} from '@ionic/angular/standalone';\nimport {\n  IonContentCustomEvent,\n  IonInfiniteScrollCustomEvent,\n  ScrollDetail,\n} from '@ionic/core';\nimport { addIcons } from 'ionicons';\nimport { checkmark, close, refresh } from 'ionicons/icons';\n\nimport {\n  CalendarDay,\n  CalendarModalOptions,\n  CalendarMonth,\n  DefaultDate,\n} from '../../calendar.types';\n\nimport { IonRangeCalendarService } from '../../services/ion-range-calendar.service';\n\nimport {\n  addMonths,\n  differenceInMonths,\n  format,\n  isAfter,\n  startOfDay,\n  subMonths,\n} from 'date-fns';\n\nimport { CalendarWeekComponent } from '../calendar-week/calendar-week.component';\nimport { MonthComponent } from '../month/month.component';\n\nconst NUM_OF_MONTHS_TO_CREATE = 3;\n\n@Component({\n  selector: 'ion-range-calendar-modal',\n  styleUrls: ['./calendar.modal.scss'],\n  templateUrl: 'calendar.modal.html',\n  imports: [\n    CalendarWeekComponent,\n    NgClass,\n    MonthComponent,\n    FormsModule,\n    IonHeader,\n    IonToolbar,\n    IonButtons,\n    IonButton,\n    IonLabel,\n    IonIcon,\n    IonTitle,\n    IonContent,\n    IonInfiniteScroll,\n    IonInfiniteScrollContent,\n  ],\n  providers: [IonRangeCalendarService],\n})\nexport class CalendarModalComponent implements OnInit, AfterViewInit {\n  readonly options = input<CalendarModalOptions>({});\n\n  readonly content = viewChild(IonContent);\n  readonly monthsEle = viewChild<ElementRef>('months');\n\n  @HostBinding('class.ion-page') ionPage = true;\n\n  datesTemp: CalendarDay[] = [null, null];\n  calendarMonths: CalendarMonth[];\n  step: number;\n  showYearPicker: boolean;\n  year: number;\n  years: number[];\n  _scrollLock = true;\n  _d: CalendarModalOptions;\n  actualFirstTime: number;\n\n  constructor(\n    private _renderer: Renderer2,\n    public _elementRef: ElementRef,\n    public modalCtrl: ModalController,\n    public ref: ChangeDetectorRef,\n    public calSvc: IonRangeCalendarService,\n  ) {\n    addIcons({\n      close,\n      refresh,\n      checkmark,\n    });\n  }\n\n  ngOnInit(): void {\n    this.init();\n    this.initDefaultDate(true);\n  }\n\n  ngAfterViewInit(): void {\n    this.findCssClass();\n    if (this._d.canBackwardsSelected) this.backwardsMonth();\n    this.scrollToDefaultDate();\n  }\n\n  init(): void {\n    this._d = this.calSvc.safeOpt(this.options());\n    this._d.showAdjacentMonthDay = false;\n    this.step = this._d.step;\n    if (this.step < this.calSvc.DEFAULT_STEP) {\n      this.step = this.calSvc.DEFAULT_STEP;\n    }\n\n    this.calendarMonths = this.calSvc.createMonthsByPeriod(\n      new Date(this._d.defaultScrollTo || this._d.from).valueOf(),\n      this.step,\n      this._d,\n    );\n  }\n\n  initDefaultDate(init = false): void {\n    const {\n      pickMode,\n      initialDate,\n      initialDates,\n      initialDateRange,\n      defaultDate,\n      defaultDateRange,\n      defaultDates,\n    } = this._d;\n\n    const date = init ? initialDate : defaultDate;\n    const dateRange = init ? initialDateRange : defaultDateRange;\n    const dates = init ? initialDates : defaultDates;\n\n    switch (pickMode) {\n      case 'single':\n        if (date) {\n          this.datesTemp[0] = this.calSvc.createCalendarDay(\n            this._getDayTime(date),\n            this._d,\n          );\n        }\n        break;\n      case 'range':\n        if (dateRange) {\n          if (dateRange.from) {\n            this.datesTemp[0] = this.calSvc.createCalendarDay(\n              this._getDayTime(dateRange.from),\n              this._d,\n            );\n          }\n          if (dateRange.to) {\n            this.datesTemp[1] = this.calSvc.createCalendarDay(\n              this._getDayTime(dateRange.to),\n              this._d,\n            );\n          }\n        }\n        break;\n      case 'multi':\n        if (dates && dates.length) {\n          this.datesTemp = dates.map((e) =>\n            this.calSvc.createCalendarDay(this._getDayTime(e), this._d),\n          );\n        }\n        break;\n      default:\n        this.datesTemp = [null, null];\n    }\n  }\n\n  findCssClass(): void {\n    const { cssClass } = this._d;\n    if (cssClass) {\n      cssClass.split(' ').forEach((_class: string) => {\n        if (_class.trim() !== '')\n          this._renderer.addClass(this._elementRef.nativeElement, _class);\n      });\n    }\n  }\n\n  onChange(data: CalendarDay[]): void {\n    const { pickMode, autoDone } = this._d;\n\n    this.datesTemp = data;\n    this.ref.detectChanges();\n\n    if (pickMode !== 'multi' && autoDone && this.canDone()) {\n      this.done();\n    }\n\n    this.repaintDOM();\n  }\n\n  onCancel(): void {\n    this.modalCtrl.dismiss(null, 'cancel');\n  }\n\n  done(): void {\n    const { pickMode } = this._d;\n\n    this.modalCtrl.dismiss(\n      this.calSvc.wrapResult(this.datesTemp, pickMode),\n      'done',\n    );\n  }\n\n  canDone(): boolean {\n    if (!Array.isArray(this.datesTemp)) {\n      return false;\n    }\n    const { pickMode, defaultEndDateToStartDate } = this._d;\n\n    switch (pickMode) {\n      case 'single':\n        return !!(this.datesTemp[0] && this.datesTemp[0].time);\n      case 'range':\n        if (defaultEndDateToStartDate) {\n          return !!(this.datesTemp[0] && this.datesTemp[0].time);\n        }\n        return (\n          !!(this.datesTemp[0] && this.datesTemp[1]) &&\n          !!(this.datesTemp[0].time && this.datesTemp[1].time)\n        );\n      case 'multi':\n        return (\n          this.datesTemp.length > 0 &&\n          this.datesTemp.every((e) => !!e && !!e.time)\n        );\n      default:\n        return false;\n    }\n  }\n\n  clear() {\n    if (this._d.clearResetsToDefault) {\n      this.initDefaultDate();\n    } else {\n      this.datesTemp = [null, null];\n    }\n    this.ref.detectChanges();\n  }\n\n  canClear() {\n    return !!this.datesTemp[0];\n  }\n\n  nextMonth(event: IonInfiniteScrollCustomEvent<void>): void {\n    const len = this.calendarMonths.length;\n    const final = this.calendarMonths[len - 1];\n    const nextTime = addMonths(final.original.time, 1).valueOf();\n    const rangeEnd = this._d.to ? subMonths(this._d.to, 1) : 0;\n\n    if (\n      len <= 0 ||\n      (rangeEnd !== 0 && isAfter(final.original.time, rangeEnd))\n    ) {\n      event.target.disabled = true;\n      return;\n    }\n\n    this.calendarMonths.push(\n      ...this.calSvc.createMonthsByPeriod(\n        nextTime,\n        NUM_OF_MONTHS_TO_CREATE,\n        this._d,\n      ),\n    );\n    event.target.complete();\n    this.repaintDOM();\n  }\n\n  backwardsMonth(): void {\n    const first = this.calendarMonths[0];\n\n    if (first.original.time <= 0) {\n      this._d.canBackwardsSelected = false;\n      return;\n    }\n\n    const firstTime = (this.actualFirstTime = subMonths(\n      first.original.time,\n      NUM_OF_MONTHS_TO_CREATE,\n    ).valueOf());\n\n    this.calendarMonths.unshift(\n      ...this.calSvc.createMonthsByPeriod(\n        firstTime,\n        NUM_OF_MONTHS_TO_CREATE,\n        this._d,\n      ),\n    );\n    this.ref.detectChanges();\n    this.repaintDOM();\n  }\n\n  scrollToDate(date: Date): void {\n    const defaultDateIndex = this.findInitMonthNumber(date);\n    const monthElement =\n      this.monthsEle().nativeElement.children[`month-${defaultDateIndex}`];\n    const domElemReadyWaitTime = 300;\n\n    setTimeout(() => {\n      const defaultDateMonth = monthElement ? monthElement.offsetTop : 0;\n\n      if (defaultDateIndex !== -1 && defaultDateMonth !== 0) {\n        this.content().scrollByPoint(0, defaultDateMonth, 128);\n      }\n    }, domElemReadyWaitTime);\n  }\n\n  scrollToDefaultDate(): void {\n    this.scrollToDate(this._d.defaultScrollTo);\n  }\n\n  onScroll($event: IonContentCustomEvent<ScrollDetail>): void {\n    if (!this._d.canBackwardsSelected) return;\n\n    const { detail } = $event;\n\n    if (detail.scrollTop <= 200 && detail.velocityY < 0 && this._scrollLock) {\n      this.content()\n        .getScrollElement()\n        .then(() => {\n          this._scrollLock = !1;\n\n          // const heightBeforeMonthPrepend = scrollElem.scrollHeight;\n          this.backwardsMonth();\n          setTimeout(() => {\n            //  const heightAfterMonthPrepend = scrollElem.scrollHeight;\n\n            // this.content.scrollByPoint(0, heightAfterMonthPrepend - heightBeforeMonthPrepend, 0).then(() => {\n            this._scrollLock = !0;\n            // });\n          }, 180);\n        });\n    }\n  }\n\n  /**\n   * In some older Safari versions (observed at Mac's Safari 10.0), there is an issue where style updates to\n   * shadowRoot descendants don't cause a browser repaint.\n   * See for more details: https://github.com/Polymer/polymer/issues/4701\n   */\n  async repaintDOM() {\n    const scrollElem = await this.content().getScrollElement();\n    // Update scrollElem to ensure that height of the container changes as Months are appended/prepended\n    scrollElem.style.zIndex = '2';\n    scrollElem.style.zIndex = 'initial';\n    // Update monthsEle to ensure selected state is reflected when tapping on a day\n    const monthsEle = this.monthsEle();\n    monthsEle.nativeElement.style.zIndex = '2';\n    monthsEle.nativeElement.style.zIndex = 'initial';\n  }\n\n  findInitMonthNumber(date: Date): number {\n    let startDate = this.actualFirstTime\n      ? new Date(this.actualFirstTime)\n      : new Date(this._d.from);\n    const defaultScrollTo = new Date(date);\n    const after: boolean = isAfter(defaultScrollTo, startDate);\n    if (!after) return -1;\n\n    if (this.showYearPicker) {\n      startDate = new Date(this.year, 0, 1);\n    }\n\n    return differenceInMonths(defaultScrollTo, startDate);\n  }\n\n  _getDayTime(date: DefaultDate): number {\n    return startOfDay(new Date(date)).valueOf();\n  }\n\n  _monthFormat(date: DefaultDate): string {\n    return format(new Date(date), this._d.monthFormat);\n  }\n}\n","<ion-header>\n  <ion-toolbar [color]=\"_d.color\">\n    <ion-buttons slot=\"start\">\n      <ion-button\n        type=\"button\"\n        slot=\"icon-only\"\n        fill=\"clear\"\n        (click)=\"onCancel()\"\n        [title]=\"_d.closeTitle || _d.closeLabel\"\n      >\n        @if (_d.closeLabel) {\n          <ion-label>{{ _d.closeLabel }}</ion-label>\n        }\n        @if (_d.closeIcon) {\n          <ion-icon\n            [slot]=\"_d.closeLabel ? 'start' : 'icon-only'\"\n            name=\"close\"\n          ></ion-icon>\n        }\n      </ion-button>\n    </ion-buttons>\n\n    <ion-title>{{ _d.title }}</ion-title>\n\n    <ion-buttons slot=\"end\">\n      @if (!!_d.clearLabel || !!_d.clearIcon) {\n        <ion-button\n          type=\"button\"\n          slot=\"icon-only\"\n          fill=\"clear\"\n          [disabled]=\"!canClear()\"\n          (click)=\"clear()\"\n          [title]=\"_d.clearTitle || _d.clearLabel\"\n        >\n          @if (_d.clearLabel) {\n            <ion-label>{{ _d.clearLabel }}</ion-label>\n          }\n          @if (_d.clearIcon) {\n            <ion-icon\n              [slot]=\"_d.clearLabel ? 'end' : 'icon-only'\"\n              name=\"refresh\"\n            ></ion-icon>\n          }\n        </ion-button>\n      }\n      @if (!_d.autoDone) {\n        <ion-button\n          type=\"button\"\n          slot=\"icon-only\"\n          fill=\"clear\"\n          [disabled]=\"!canDone()\"\n          (click)=\"done()\"\n          [title]=\"_d.doneTitle || _d.doneLabel\"\n        >\n          @if (_d.doneLabel) {\n            <ion-label>{{ _d.doneLabel }}</ion-label>\n          }\n          @if (_d.doneIcon) {\n            <ion-icon\n              [slot]=\"_d.doneLabel ? 'end' : 'icon-only'\"\n              name=\"checkmark\"\n            ></ion-icon>\n          }\n        </ion-button>\n      }\n    </ion-buttons>\n  </ion-toolbar>\n\n  <ng-content select=\"[sub-header]\"></ng-content>\n\n  <ion-range-calendar-week\n    [color]=\"_d.color\"\n    [weekArray]=\"_d.weekdays\"\n    [weekStart]=\"_d.weekStart\"\n  >\n  </ion-range-calendar-week>\n</ion-header>\n\n<ion-content\n  (ionScroll)=\"onScroll($event)\"\n  class=\"calendar-page\"\n  [scrollEvents]=\"true\"\n  [ngClass]=\"{ 'multi-selection': _d.pickMode === 'multi' }\"\n>\n  <div #months>\n    @for (month of calendarMonths; track month.original.time; let i = $index) {\n      <div class=\"month-box\" [attr.id]=\"'month-' + i\">\n        <h4 class=\"text-center month-title\">\n          {{ _monthFormat(month.original.date) }}\n        </h4>\n        <ion-range-calendar-month\n          [month]=\"month\"\n          [pickMode]=\"_d.pickMode\"\n          [color]=\"_d.color\"\n          (ionChange)=\"onChange($event)\"\n          [(ngModel)]=\"datesTemp\"\n        >\n        </ion-range-calendar-month>\n      </div>\n    }\n  </div>\n\n  <ion-infinite-scroll threshold=\"25%\" (ionInfinite)=\"nextMonth($event)\">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n","import { Component, input, output } from '@angular/core';\n\nimport { CalendarMonth } from '../../calendar.types';\nimport { defaults } from '../../config';\n\n@Component({\n  selector: 'ion-range-calendar-month-picker',\n  styleUrls: ['./month-picker.component.scss'],\n  templateUrl: 'month-picker.component.html',\n})\nexport class MonthPickerComponent {\n  readonly month = input<CalendarMonth>(undefined);\n  readonly color = input(defaults.COLOR);\n  readonly monthFormat = input(defaults.MONTH_FORMAT, {\n    transform: this.setMonthFormat,\n  });\n\n  select = output<number>();\n\n  _thisMonth = new Date();\n\n  MONTH_FORMAT = 'MMMM';\n\n  _onSelect(month: number): void {\n    this.select.emit(month);\n  }\n\n  getDate(month: number) {\n    return new Date(this._thisMonth.getFullYear(), month, 1);\n  }\n\n  private setMonthFormat(value: string[]): string[] {\n    if (value && value.length === 12) {\n      return [...value];\n    }\n    return defaults.MONTH_FORMAT;\n  }\n}\n","<div [class]=\"'month-picker ' + color()\">\n  @for (item of monthFormat(); track i; let i = $index) {\n    <div\n      class=\"month-packer-item\"\n      [class.this-month]=\"\n        i === _thisMonth.getMonth() &&\n        month().original.year === _thisMonth.getFullYear()\n      \"\n    >\n      <button type=\"button\" (click)=\"_onSelect(i)\">{{ item }}</button>\n    </div>\n  }\n</div>\n","import {\n  Component,\n  forwardRef,\n  inject,\n  input,\n  OnInit,\n  output,\n  Provider,\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormsModule,\n  NG_VALUE_ACCESSOR,\n} from '@angular/forms';\n\nimport {\n  addMonths,\n  addYears,\n  format,\n  parse,\n  subMonths,\n  subYears,\n} from 'date-fns';\n\nimport {\n  CalendarComponentMonthChange,\n  CalendarComponentOptions,\n  CalendarComponentPayloadTypes,\n  CalendarComponentTypeProperty,\n  CalendarDay,\n  CalendarModalOptions,\n  CalendarMonth,\n  ControlValueType,\n  RangeChange,\n} from '../../calendar.types';\n\nimport { defaults } from '../../config';\n\nimport { IonRangeCalendarService } from '../../services/ion-range-calendar.service';\n\nimport { CalendarWeekComponent } from '../calendar-week/calendar-week.component';\nimport { MonthPickerComponent } from '../month-picker/month-picker.component';\nimport { MonthComponent } from '../month/month.component';\n\nimport { IonButton, IonIcon } from '@ionic/angular/standalone';\nimport { addIcons } from 'ionicons';\nimport {\n  caretDownOutline,\n  caretUpOutline,\n  chevronBackOutline,\n  chevronForwardOutline,\n} from 'ionicons/icons';\n\nexport const ION_CAL_VALUE_ACCESSOR: Provider = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => IonRangeCalendarComponent),\n  multi: true,\n};\n\ninterface CompatibleIcons {\n  caretDown: string;\n  caretUp: string;\n  chevronBack: string;\n  chevronForward: string;\n}\n\nexport type ionChange =\n  | CalendarComponentPayloadTypes\n  | { from?: CalendarComponentPayloadTypes; to?: CalendarComponentPayloadTypes }\n  | CalendarComponentPayloadTypes[];\n\n@Component({\n  selector: 'ion-range-calendar',\n  providers: [ION_CAL_VALUE_ACCESSOR, IonRangeCalendarService],\n  styleUrls: ['ion-range-calendar.component.scss'],\n  templateUrl: 'ion-range-calendar.component.html',\n  imports: [\n    CalendarWeekComponent,\n    MonthComponent,\n    FormsModule,\n    MonthPickerComponent,\n    IonButton,\n    IonIcon,\n  ],\n})\nexport class IonRangeCalendarComponent implements ControlValueAccessor, OnInit {\n  readonly format = input<string>(defaults.DATE_FORMAT);\n  readonly type = input<CalendarComponentTypeProperty>('string');\n  readonly readonly = input(false);\n\n  options = input<CalendarComponentOptions, CalendarComponentOptions>(\n    undefined,\n    { transform: this.setOptions.bind(this) },\n  );\n\n  _d: CalendarModalOptions;\n  _options: CalendarComponentOptions;\n  _view: 'month' | 'days' = 'days';\n  _calendarMonthValue: CalendarDay[] = [null, null];\n  _showToggleButtons = true;\n  _compatibleIcons: CompatibleIcons;\n\n  get showToggleButtons(): boolean {\n    return this._showToggleButtons;\n  }\n\n  set showToggleButtons(value: boolean) {\n    this._showToggleButtons = value;\n  }\n\n  _showMonthPicker = true;\n  get showMonthPicker(): boolean {\n    return this._showMonthPicker;\n  }\n\n  set showMonthPicker(value: boolean) {\n    this._showMonthPicker = value;\n  }\n\n  monthOpt: CalendarMonth;\n\n  ionChange = output<ionChange>();\n  monthChange = output<CalendarComponentMonthChange>();\n  select = output<CalendarDay>();\n  selectStart = output<CalendarDay>();\n  selectEnd = output<CalendarDay>();\n\n  readonly MONTH_DATE_FORMAT = 'MMMM yyyy';\n\n  readonly calendarService = inject(IonRangeCalendarService);\n\n  _onChanged!: (event: ControlValueType) => void;\n  _onTouched!: (event: ControlValueType) => void;\n\n  constructor() {\n    this._compatibleIcons = {\n      caretDown: 'caret-down-outline',\n      caretUp: 'caret-up-outline',\n      chevronBack: 'chevron-back-outline',\n      chevronForward: 'chevron-forward-outline',\n    };\n\n    addIcons({\n      caretDownOutline,\n      caretUpOutline,\n      chevronBackOutline,\n      chevronForwardOutline,\n    });\n  }\n\n  ngOnInit(): void {\n    this.initOpt();\n    this.monthOpt = this.createMonth(new Date().getTime());\n  }\n\n  getViewDate() {\n    return this._handleType(this.monthOpt.original.time);\n  }\n\n  getDate(date: number) {\n    return new Date(date);\n  }\n\n  setViewDate(value: CalendarComponentPayloadTypes) {\n    this.monthOpt = this.createMonth(this._payloadToTimeNumber(value));\n  }\n\n  switchView(): void {\n    this._view = this._view === 'days' ? 'month' : 'days';\n  }\n\n  prev(): void {\n    if (this._view === 'days') {\n      this.backMonth();\n    } else {\n      this.prevYear();\n    }\n  }\n\n  next(): void {\n    if (this._view === 'days') {\n      this.nextMonth();\n    } else {\n      this.nextYear();\n    }\n  }\n\n  prevYear(): void {\n    if (new Date(this.monthOpt.original.time).getFullYear() === 1970) {\n      return;\n    }\n    const backTime = subYears(this.monthOpt.original.time, 1).valueOf();\n    this.monthOpt = this.createMonth(backTime);\n  }\n\n  nextYear(): void {\n    const nextTime = addYears(this.monthOpt.original.time, 1).valueOf();\n    this.monthOpt = this.createMonth(nextTime);\n  }\n\n  nextMonth(): void {\n    const nextTime = addMonths(this.monthOpt.original.time, 1).valueOf();\n    this.monthChange.emit({\n      oldMonth: this.calendarService.multiFormat(this.monthOpt.original.time),\n      newMonth: this.calendarService.multiFormat(nextTime),\n    });\n    this.monthOpt = this.createMonth(nextTime);\n  }\n\n  canNext(): boolean {\n    if (!this._d.to || this._view !== 'days') {\n      return true;\n    }\n    return this.monthOpt.original.time < new Date(this._d.to).valueOf();\n  }\n\n  backMonth(): void {\n    const backTime = subMonths(this.monthOpt.original.time, 1).valueOf();\n    this.monthChange.emit({\n      oldMonth: this.calendarService.multiFormat(this.monthOpt.original.time),\n      newMonth: this.calendarService.multiFormat(backTime),\n    });\n    this.monthOpt = this.createMonth(backTime);\n  }\n\n  canBack(): boolean {\n    if (this._d.canBackwardsSelected) {\n      return true;\n    }\n    if (!this._d.from || this._view !== 'days') {\n      return true;\n    }\n    return this.monthOpt.original.time > new Date(this._d.from).valueOf();\n  }\n\n  monthOnSelect(month: number): void {\n    this._view = 'days';\n    const newMonth = new Date(this.monthOpt.original.time)\n      .setMonth(month)\n      .valueOf();\n    this.monthChange.emit({\n      oldMonth: this.calendarService.multiFormat(this.monthOpt.original.time),\n      newMonth: this.calendarService.multiFormat(newMonth),\n    });\n    this.monthOpt = this.createMonth(newMonth);\n  }\n\n  onChanged($event: CalendarDay[]): void {\n    switch (this._d.pickMode) {\n      case 'single':\n        return this.handleSingleChange($event[0]);\n      case 'range':\n        return this.handleRangeChange($event);\n      case 'slots':\n        return this.handleSlotsChange($event);\n      case 'multi':\n        return this.handleMultiChange($event);\n    }\n  }\n\n  private handleSingleChange($event: CalendarDay): void {\n    const date = this._handleType($event.time);\n    this._onChanged(date);\n    this.ionChange.emit(date);\n  }\n\n  private handleRangeChange($event: CalendarDay[]): void {\n    if ($event[0] && $event[1]) {\n      const rangeDate = {\n        from: this._handleType($event[0].time),\n        to: this._handleType($event[1].time),\n      };\n      this._onChanged(rangeDate);\n      this.ionChange.emit(rangeDate);\n    }\n  }\n\n  private handleSlotsChange($event: CalendarDay[]): void {\n    if ($event[0] && $event[1]) {\n      const rangeDate = {\n        from: this._handleType($event[0].time),\n        to: this._handleType($event[1].time),\n      };\n      this._onChanged(rangeDate);\n      this.ionChange.emit(rangeDate);\n    }\n  }\n\n  private handleMultiChange($event: CalendarDay[]): void {\n    const dates: CalendarComponentPayloadTypes[] = [];\n\n    for (const event of $event) {\n      if (event && event.time) {\n        dates.push(this._handleType(event.time));\n      }\n    }\n\n    this._onChanged(dates);\n    this.ionChange.emit(dates);\n  }\n\n  swipeEvent($event: Event): void {\n    const isNext = ($event as WheelEvent).deltaX < 0;\n    if (isNext && this.canNext()) {\n      this.nextMonth();\n    } else if (!isNext && this.canBack()) {\n      this.backMonth();\n    }\n  }\n\n  _payloadToTimeNumber(value: CalendarComponentPayloadTypes): number {\n    let date: Date;\n    if (typeof value === 'string') {\n      date = parse(value, this.format(), new Date());\n    } else if (typeof value === 'number' || value instanceof Date) {\n      date = new Date(value);\n    } else {\n      date = new Date(\n        value.years,\n        value.months - 1,\n        value.date,\n        value.hours,\n        value.minutes,\n        value.seconds,\n        value.milliseconds,\n      );\n    }\n    return date.valueOf();\n  }\n\n  _monthFormat(date: number): string {\n    return format(date, this._d.monthFormat);\n  }\n\n  private initOpt(): void {\n    if (this._options && typeof this._options.showToggleButtons === 'boolean') {\n      this.showToggleButtons = this._options.showToggleButtons;\n    }\n    if (this._options && typeof this._options.showMonthPicker === 'boolean') {\n      this.showMonthPicker = this._options.showMonthPicker;\n      if (this._view !== 'days' && !this.showMonthPicker) {\n        this._view = 'days';\n      }\n    }\n    this._d = this.calendarService.safeOpt(this._options || {});\n  }\n\n  createMonth(date: number): CalendarMonth {\n    return this.calendarService.createMonthsByPeriod(date, 1, this._d)[0];\n  }\n\n  _createCalendarDay(\n    value?: CalendarComponentPayloadTypes | null,\n  ): CalendarDay | null {\n    if (!value) return null;\n    return this.calendarService.createCalendarDay(\n      this._payloadToTimeNumber(value),\n      this._d,\n    );\n  }\n\n  _handleType(value: number): CalendarComponentPayloadTypes {\n    const date = new Date(value);\n    switch (this.type()) {\n      case 'string':\n        return format(date, this.format());\n      case 'js-date':\n        return date;\n      case 'time':\n        return date.valueOf();\n      case 'object':\n        return {\n          years: date.getFullYear(),\n          months: date.getMonth() + 1,\n          date: date.getDate(),\n          hours: date.getHours(),\n          minutes: date.getMinutes(),\n          seconds: date.getSeconds(),\n          milliseconds: date.getMilliseconds(),\n        };\n      default:\n        return date;\n    }\n  }\n\n  writeValue(obj: ControlValueType): void {\n    this._writeValue(obj);\n    if (obj) {\n      if (this._calendarMonthValue[0]) {\n        this.monthOpt = this.createMonth(this._calendarMonthValue[0].time);\n      } else {\n        this.monthOpt = this.createMonth(new Date().getTime());\n      }\n    }\n  }\n\n  registerOnChange(fn: (event: ControlValueType) => void): void {\n    this._onChanged = fn;\n  }\n\n  registerOnTouched(fn: (event: ControlValueType) => void): void {\n    this._onTouched = fn;\n  }\n\n  _writeValue(value: ControlValueType): void {\n    if (!value) {\n      this._calendarMonthValue = [null, null];\n      return;\n    }\n\n    switch (this._d.pickMode) {\n      case 'single':\n        this._calendarMonthValue[0] = this._createCalendarDay(\n          value as CalendarComponentPayloadTypes,\n        );\n        break;\n\n      case 'range':\n      case 'slots':\n        this._calendarMonthValue[0] = this._createCalendarDay(\n          (value as RangeChange).from,\n        );\n        this._calendarMonthValue[1] = this._createCalendarDay(\n          (value as RangeChange).to,\n        );\n        break;\n\n      case 'multi':\n        if (Array.isArray(value)) {\n          this._calendarMonthValue = value.map((e) =>\n            this._createCalendarDay(e),\n          );\n        } else {\n          this._calendarMonthValue = [null, null];\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  private setOptions(value: CalendarComponentOptions) {\n    this._options = value;\n    this.initOpt();\n    if (this.monthOpt && this.monthOpt.original) {\n      this.monthOpt = this.createMonth(this.monthOpt.original.time);\n    }\n    return value;\n  }\n}\n","<div class=\"title\">\n  @if (_showToggleButtons) {\n    <ion-button\n      type=\"button\"\n      fill=\"clear\"\n      class=\"back\"\n      [disabled]=\"!canBack()\"\n      (click)=\"prev()\"\n    >\n      <ion-icon\n        slot=\"icon-only\"\n        size=\"small\"\n        [name]=\"_compatibleIcons.chevronBack\"\n      ></ion-icon>\n    </ion-button>\n  }\n  @if (_showMonthPicker) {\n    <ion-button\n      type=\"button\"\n      fill=\"clear\"\n      class=\"switch-btn\"\n      (click)=\"switchView()\"\n    >\n      {{ _monthFormat(monthOpt.original.time) }}\n      <ion-icon\n        class=\"arrow-dropdown\"\n        [name]=\"\n          _view === 'days'\n            ? _compatibleIcons.caretDown\n            : _compatibleIcons.caretUp\n        \"\n      >\n      </ion-icon>\n    </ion-button>\n  } @else {\n    <div class=\"switch-btn\">\n      {{ _monthFormat(monthOpt.original.time) }}\n    </div>\n  }\n\n  <ng-template #title>\n    <div class=\"switch-btn\">\n      {{ _monthFormat(monthOpt.original.time) }}\n    </div>\n  </ng-template>\n\n  @if (_showToggleButtons) {\n    <ion-button\n      type=\"button\"\n      fill=\"clear\"\n      class=\"forward\"\n      [disabled]=\"!canNext()\"\n      (click)=\"next()\"\n    >\n      <ion-icon\n        slot=\"icon-only\"\n        size=\"small\"\n        [name]=\"_compatibleIcons.chevronForward\"\n      ></ion-icon>\n    </ion-button>\n  }\n</div>\n\n@if (_view === 'days') {\n  <ion-range-calendar-week\n    color=\"transparent\"\n    [weekArray]=\"_d.weekdays\"\n    [weekStart]=\"_d.weekStart\"\n  >\n  </ion-range-calendar-week>\n\n  <ion-range-calendar-month\n    [componentMode]=\"true\"\n    [(ngModel)]=\"_calendarMonthValue\"\n    [month]=\"monthOpt\"\n    [readonly]=\"readonly()\"\n    (ionChange)=\"onChanged($event)\"\n    (swipe)=\"swipeEvent($event)\"\n    (select)=\"select.emit($event)\"\n    (selectStart)=\"selectStart.emit($event)\"\n    (selectEnd)=\"selectEnd.emit($event)\"\n    [pickMode]=\"_d.pickMode\"\n    [color]=\"_d.color\"\n  >\n  </ion-range-calendar-month>\n} @else {\n  <ion-range-calendar-month-picker\n    [color]=\"_d.color\"\n    [monthFormat]=\"_options?.monthPickerFormat\"\n    (select)=\"monthOnSelect($event)\"\n    [month]=\"monthOpt\"\n  >\n  </ion-range-calendar-month-picker>\n}\n","/*\n * Public API Surface of ion-range-calendar\n */\n\nexport * from './lib/services/ion-range-calendar.service';\nexport * from './lib/components';\nexport * from './lib/calendar.types';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i2.IonRangeCalendarService","i1"],"mappings":"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"}